<template>
    <div>
        <lightning-card title="Application Information" icon-name="standard:applicant">

            <!-- Display a list of applicants -->
            <ul class="applicant-list">
                <template for:each={applicants} for:item="applicant">
                    <li key={applicant.Id} onclick={handleApplicantClick} data-id={applicant.Id} class="applicant-item">
                        {applicant.Name}
                    </li>
                </template>
            </ul>


            <div class="slds-align_absolute-center">
            <lightning-layout>
                <lightning-layout-item size="9">
                    <div if:true={selectedApplicant} class="applicant-details-table slds-size_9-of-12">
                        <lightning-record-edit-form object-api-name="Applicant_Profile__c"
                            record-id={selectedApplicant.Id} onsuccess={handleSuccess} onsubmit={handleSubmit}
                            onerror={handleError}>

                            <p><strong>Update Application Form. </strong></p>

                            <table class="slds-table slds-table_bordered slds-max-medium-table_stacked-horizontal">
                                <tbody>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Name"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Email__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Phone__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Address__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field
                                                field-name="Educational_Background__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field
                                                field-name="Certifications__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Skills__c"></lightning-input-field>
                                        </td>
                                    </tr>

                                    <!-- Interview Status and Interview Date  -->
                                    <th><strong>Interview Information</strong></th>
                                    <tr>
                                        <td>
                                            <lightning-input-field field-name="Status__c"></lightning-input-field>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <lightning-input-field
                                                field-name="Date_Interview__c"></lightning-input-field>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>

                            <div class="slds-m-top_medium">
                                <lightning-button variant="brand" type="submit" label="Save"></lightning-button>
                            </div>

                        </lightning-record-edit-form>
                    </div>
                </lightning-layout-item>

            </lightning-layout>
            </div>

        </lightning-card>

        
    </div>
</template>